{% extends "base.html" %}
{% block title %}Analytics â€“ Study Map{% endblock %}

{% block head %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Analytics</h1>
    <p>Track your learning patterns, progress, and focus areas over time.</p>
</div>

{% if not has_data %}
<div class="empty-state">
    <div class="empty-state-icon">&#128200;</div>
    <h3>No data to visualise yet</h3>
    <p>Analytics will populate as you log entries.</p>
</div>
{% else %}

<div class="stat-grid cols-4">
    <div class="stat-card"><div class="number">{{ stats.total }}</div><div class="label">Total Sessions</div></div>
    <div class="stat-card"><div class="number">{{ stats.skills }}</div><div class="label">Unique Skills</div></div>
    <div class="stat-card"><div class="number">{{ stats.domains }}</div><div class="label">Domains</div></div>
    <div class="stat-card"><div class="number">{{ stats.connections }}</div><div class="label">Connections</div></div>
</div>

<hr class="divider">

<div class="chart-grid">
    <div class="chart-card"><canvas id="activityChart"></canvas></div>
    <div class="chart-card"><canvas id="skillsChart"></canvas></div>
    <div class="chart-card"><canvas id="complexityChart"></canvas></div>
    <div class="chart-card"><canvas id="domainsChart"></canvas></div>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
{% if has_data %}
<script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
{% endif %}
{% endblock %}
